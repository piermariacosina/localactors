(function(window,doc,undef){var docElement=doc.documentElement,sTimeout=window.setTimeout,firstScript=doc.getElementsByTagName("script")[0],toString={}.toString,execStack=[],started=0,noop=function(){},isGecko=("MozAppearance" in docElement.style),isGeckoLTE18=isGecko&&!!doc.createRange().compareNode,insBeforeObj=isGeckoLTE18?docElement:firstScript.parentNode,isOpera=window.opera&&toString.call(window.opera)=="[object Opera]",isIE=!!doc.attachEvent&&!isOpera,strJsElem=isGecko?"object":isIE?"script":"img",strCssElem=isIE?"script":strJsElem,isArray=Array.isArray||function(obj){return toString.call(obj)=="[object Array]"},isObject=function(obj){return Object(obj)===obj},isString=function(s){return typeof s=="string"},isFunction=function(fn){return toString.call(fn)=="[object Function]"},globalFilters=[],scriptCache={},prefixes={timeout:function(resourceObj,prefix_parts){if(prefix_parts.length){resourceObj.timeout=prefix_parts[0]}return resourceObj}},handler,yepnope;function isFileReady(readyState){return(!readyState||readyState=="loaded"||readyState=="complete"||readyState=="uninitialized")}function injectJs(src,cb,attrs,timeout,err,internal){var script=doc.createElement("script"),done,i;timeout=timeout||yepnope.errorTimeout;script.src=src;for(i in attrs){script.setAttribute(i,attrs[i])}cb=internal?executeStack:(cb||noop);script.onreadystatechange=script.onload=function(){if(!done&&isFileReady(script.readyState)){done=1;cb();script.onload=script.onreadystatechange=null}};sTimeout(function(){if(!done){done=1;cb(1)}},timeout);err?script.onload():firstScript.parentNode.insertBefore(script,firstScript)}function injectCss(href,cb,attrs,timeout,err,internal){var link=doc.createElement("link"),done,i;timeout=timeout||yepnope.errorTimeout;cb=internal?executeStack:(cb||noop);link.href=href;link.rel="stylesheet";link.type="text/css";for(i in attrs){link.setAttribute(i,attrs[i])}if(!err){firstScript.parentNode.insertBefore(link,firstScript);sTimeout(cb,0)}}function executeStack(){var i=execStack.shift();started=1;if(i){if(i.t){sTimeout(function(){(i.t=="c"?yepnope.injectCss:yepnope.injectJs)(i.s,0,i.a,i.x,i.e,1)},0)}else{i();executeStack()}}else{started=0}}function preloadFile(elem,url,type,splicePoint,dontExec,attrObj,timeout){timeout=timeout||yepnope.errorTimeout;var preloadElem=doc.createElement(elem),done=0,firstFlag=0,stackObject={t:type,s:url,e:dontExec,a:attrObj,x:timeout};if(scriptCache[url]===1){firstFlag=1;scriptCache[url]=[]}function onload(first){if(!done&&isFileReady(preloadElem.readyState)){stackObject.r=done=1;!started&&executeStack();preloadElem.onload=preloadElem.onreadystatechange=null;if(first){if(elem!="img"){sTimeout(function(){insBeforeObj.removeChild(preloadElem)},50)}for(var i in scriptCache[url]){if(scriptCache[url].hasOwnProperty(i)){scriptCache[url][i].onload()}}}}}if(elem=="object"){preloadElem.data=url}else{preloadElem.src=url;preloadElem.type=elem}preloadElem.width=preloadElem.height="0";preloadElem.onerror=preloadElem.onload=preloadElem.onreadystatechange=function(){onload.call(this,firstFlag)};execStack.splice(splicePoint,0,stackObject);if(elem!="img"){if(firstFlag||scriptCache[url]===2){insBeforeObj.insertBefore(preloadElem,isGeckoLTE18?null:firstScript);sTimeout(onload,timeout)}else{scriptCache[url].push(preloadElem)}}}function load(resource,type,dontExec,attrObj,timeout){started=0;type=type||"j";if(isString(resource)){preloadFile(type=="c"?strCssElem:strJsElem,resource,type,this["i"]++,dontExec,attrObj,timeout)}else{execStack.splice(this["i"]++,0,resource);execStack.length==1&&executeStack()}return this}function getYepnope(){var y=yepnope;y.loader={load:load,i:0};return y}yepnope=function(needs){var i,need,chain=this["yepnope"]["loader"];function satisfyPrefixes(url){var parts=url.split("!"),gLen=globalFilters.length,origUrl=parts.pop(),pLen=parts.length,res={url:origUrl,origUrl:origUrl,prefixes:parts},mFunc,j,prefix_parts;for(j=0;j<pLen;j++){prefix_parts=parts[j].split("=");mFunc=prefixes[prefix_parts.shift()];if(mFunc){res=mFunc(res,prefix_parts)}}for(j=0;j<gLen;j++){res=globalFilters[j](res)}return res}function getExtension(url){return url.split(".").pop().split("?").shift()}function loadScriptOrStyle(input,callback,chain,index,testResult){var resource=satisfyPrefixes(input),autoCallback=resource.autoCallback,extension=getExtension(resource.url);if(resource.bypass){return}if(callback){callback=isFunction(callback)?callback:callback[input]||callback[index]||callback[(input.split("/").pop().split("?")[0])]}if(resource.instead){return resource.instead(input,callback,chain,index,testResult)}else{if(scriptCache[resource.url]){resource.noexec=true}else{scriptCache[resource.url]=1}chain.load(resource.url,((resource.forceCSS||(!resource.forceJS&&"css"==getExtension(resource.url))))?"c":undef,resource.noexec,resource.attrs,resource.timeout);if(isFunction(callback)||isFunction(autoCallback)){chain.load(function(){getYepnope();callback&&callback(resource.origUrl,testResult,index);autoCallback&&autoCallback(resource.origUrl,testResult,index);scriptCache[resource.url]=2})}}}function loadFromTestObject(testObject,chain){var testResult=!!testObject.test,group=testResult?testObject.yep:testObject.nope,always=testObject.load||testObject.both,callback=testObject.callback||noop,cbRef=callback,complete=testObject.complete||noop,needGroupSize,callbackKey;function handleGroup(needGroup,moreToCome){if(!needGroup){!moreToCome&&complete()}else{if(isString(needGroup)){if(!moreToCome){callback=function(){var args=[].slice.call(arguments);cbRef.apply(this,args);complete()}}loadScriptOrStyle(needGroup,callback,chain,0,testResult)}else{if(isObject(needGroup)){needGroupSize=(function(){var count=0,i;for(i in needGroup){if(needGroup.hasOwnProperty(i)){count++}}return count})();for(callbackKey in needGroup){if(needGroup.hasOwnProperty(callbackKey)){if(!moreToCome&&!(--needGroupSize)){if(!isFunction(callback)){callback[callbackKey]=(function(innerCb){return function(){var args=[].slice.call(arguments);innerCb&&innerCb.apply(this,args);complete()}})(cbRef[callbackKey])}else{callback=function(){var args=[].slice.call(arguments);cbRef.apply(this,args);complete()}}}loadScriptOrStyle(needGroup[callbackKey],callback,chain,callbackKey,testResult)}}}}}}handleGroup(group,!!always);always&&handleGroup(always)}if(isString(needs)){loadScriptOrStyle(needs,0,chain,0)}else{if(isArray(needs)){for(i=0;i<needs.length;i++){need=needs[i];if(isString(need)){loadScriptOrStyle(need,0,chain,0)}else{if(isArray(need)){yepnope(need)}else{if(isObject(need)){loadFromTestObject(need,chain)}}}}}else{if(isObject(needs)){loadFromTestObject(needs,chain)}}}};yepnope.addPrefix=function(prefix,callback){prefixes[prefix]=callback};yepnope.addFilter=function(filter){globalFilters.push(filter)};yepnope.errorTimeout=10000;if(doc.readyState==null&&doc.addEventListener){doc.readyState="loading";doc.addEventListener("DOMContentLoaded",handler=function(){doc.removeEventListener("DOMContentLoaded",handler,0);doc.readyState="complete"},0)}window.yepnope=getYepnope();window.yepnope["executeStack"]=executeStack;window.yepnope["injectJs"]=injectJs;window.yepnope["injectCss"]=injectCss})(this,document);window.enquire=function(e){function t(e,t){var n=0,r=e.length,i;for(n;n<r;n++){i=t(e[n],n);if(i===!1){break}}}function n(e){return Object.prototype.toString.apply(e)==="[object Array]"}function r(e){return typeof e=="function"}function i(e){this.initialised=!1,this.options=e,e.deferSetup||this.setup()}function s(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.matched=!1}function o(){if(!e){throw new Error("matchMedia is required")}var t=new s("only all");this.queries={},this.listening=!1,this.browserIsIncapable=!t.matchMedia()}return i.prototype={setup:function(e){this.options.setup&&this.options.setup(e),this.initialised=!0},on:function(e){this.initialised||this.setup(e),this.options.match(e)},off:function(e){this.options.unmatch&&this.options.unmatch(e)},destroy:function(){this.options.destroy?this.options.destroy():this.off()
},equals:function(e){return this.options===e||this.options.match===e}},s.prototype={matchMedia:function(){return e(this.query).matches},addHandler:function(e,t){var n=new i(e);this.handlers.push(n),t&&this.matched&&n.on()},removeHandler:function(e){var n=this.handlers;t(n,function(t,r){if(t.equals(e)){return t.destroy(),!n.splice(r,1)}})},assess:function(e){this.matchMedia()||this.isUnconditional?this.match(e):this.unmatch(e)},match:function(e){if(this.matched){return}t(this.handlers,function(t){t.on(e)}),this.matched=!0},unmatch:function(e){if(!this.matched){return}t(this.handlers,function(t){t.off(e)}),this.matched=!1}},o.prototype={register:function(e,i,o){var u=this.queries,a=o&&this.browserIsIncapable,f=this.listening;return u.hasOwnProperty(e)||(u[e]=new s(e,a),this.listening&&u[e].assess()),r(i)&&(i={match:i}),n(i)||(i=[i]),t(i,function(t){u[e].addHandler(t,f)}),this},unregister:function(e,n){var r=this.queries;return r.hasOwnProperty(e)?(n?r[e].removeHandler(n):(t(this.queries[e].handlers,function(e){e.destroy()}),delete r[e]),this):this},fire:function(e){var t=this.queries,n;for(n in t){t.hasOwnProperty(n)&&t[n].assess(e)}return this},listen:function(e){function s(t){var n;r(t,function(t){n&&clearTimeout(n),n=setTimeout(function(){i.fire(t)},e)})}var t="resize",n="orientationChange",r=window.addEventListener||window.attachEvent,i=this;return e=e||500,window.attachEvent&&(t="on"+t,n="on"+n),this.listening?this:(i.fire(),s(t),s(n),this.listening=!0,this)}},new o}(window.matchMedia);var basicURl="javascripts/vendor/";yepnope([{load:[basicURl+"jquery.js",basicURl+"jquery.scrollTo.js",basicURl+"jquery-ui/ui/jquery.ui.core.js",basicURl+"jquery-ui/ui/jquery.ui.widget.js",basicURl+"jquery-ui/ui/jquery.ui.accordion.js",basicURl+"response.js"],complete:function(){Response.create({mode:"src",prefix:"src",breakpoints:[0,980]});yepnope([{test:Modernizr.mq("all and (max-width: 980px)"),yep:[basicURl+"toe/dist/toe.min.js","javascripts/320.js"],nope:["javascripts/960.js"],}])}},{load:basicURl+"enquire/dist/enquire.min.js",complete:function(){enquire.register("all and (min-width:58.75em)",{deferSetup:true,match:function(){yepnope(["javascripts/960.js"])},unmatch:function(){yepnope([basicURl+"toe/dist/toe.min.js","javascripts/320.js"])}}).listen()}}]);